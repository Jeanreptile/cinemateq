section.vbox
	header.bg-white.header.header-md.navbar.navbar-fixed-top-xs.box-shadow
		.navbar-header.aside-md.dk
			a.btn.btn-link.visible-xs(data-toggle='class:nav-off-screen,open', data-target='#nav,html')
				i.fa.fa-bars
			a.navbar-brand(href='/')
					img.m-r-sm(src='images/cinelogo1.png', alt='logo')
				// span.hidden-nav-xs Cinemateq
			a.btn.btn-link.visible-xs(data-toggle='dropdown', data-target='.user')
				i.fa.fa-cog
		form.navbar-form.navbar-left.m-t.m-l-n-xs.hidden-xs(role='search', ng-controller='TypeaheadCtrl', action="/", method='GET')
			.form-group
				.input-group
					span.input-group-btn
						button.btn.btn-sm.bg-white.b-white.btn-icon(type='submit')
							span.glyphicon.glyphicon-search
					input(type='hidden', name='id', value="{{asyncSelected.thisId}}")
					.input-group-btn
						button.btn.bg-white.b-white.btn-sm.dropdown-toggle(type='button', data-toggle='dropdown')
							span.dropdown-label
								| Movies
							span.caret
						ul.dropdown-menu.dropdown-select.dropdownSearch
							li.active(ng-click="OnItemClick('movie')")
								a(href='#')
									input(type='radio', name='type', checked='')
									| Movies
							li(ng-click="OnItemClick('person')")
								a(href='#')
									input(type='radio', name='type')
									| Persons
					input.form-control.no-border.input-sm.search-top-menu(type='text', placeholder='Search for a {{selectedItem}}...',		autocomplete='off', ng-model='asyncSelected',
						typeahead='query as query.name for query in getLocation($viewValue)',
						typeahead-wait-ms=350,
						typeahead-loading='loadingLocations',
						typeahead-min-length=2)
		a.btn.btn-icon.b-2x.btn-info.btn-rounded.active.right-menu(href='#nav, #sidebar', data-toggle='class:nav-xs, show')
			i.fa.fa-bars
		ul.nav.navbar-nav.navbar-right.m-n.hidden-xs.nav-user.user
			li.dropdown
				a.dropdown-toggle(href='#', data-toggle='dropdown')
					span.thumb-sm.pull-left.avatar.m-r
						img.dker(src="images/a0.png")
					span(ng-if='currentUser')
						| {{currentUser.firstName}}
					span(ng-if='currentUser == undefined')
						| Invité
					b.caret 
				ul.dropdown-menu.animated.fadeInRight
					li(ng-if='currentUser')
						a(href='') Profile
					li(ng-if='currentUser')
						a(href='') My Cinegraphs
					li.divider
					li
						a(ng-click='logout()' ng-if='currentUser') Logout
						a(href='/signin' ng-if="currentUser == undefined") Sign in
	section
		section.hbox.stretch
			aside#nav.aside-lg.bg-black.hidden-print.hidden-xs
				section.vbox
					section.w-f.scrollable
						.slim-scroll(data-height="$('content').height()", data-disable-fade-out='true', data-distance='0', data-size='10px', data-railopacity='0.2')
							.clearfix.wrapper.dk.nav-user.hidden-xs
								.row
									.col-sm-12.avatar-center-xs
										span.thumb.pull-left.avatar.m-r
											img.dker(src="images/a0.png")
											i.on.md.b-black
										span.hidden-nav-xs.clear
											span.block.m-t-xs
												div(ng-if='currentUser')
													strong.font-bold.text-lt {{currentUser.firstName}}
													span.text-muted.text-xs.block Cinephile
												div(ng-if='currentUser == undefined')
													strong.font-bold.text-lt Invité
													span.text-muted.text-xs.block Novice
								.row.m-t-sm.hidden-nav-xs
									.col-sm-12.text-center
										a.btn.btn-s-md.btn-info.btn-sm(href='/')
											|Go to Discovery mode
											i.i.i-arrow-right.m-l-xs
							div.node-details.text-center(ng-show="currentNode").hidden-nav-xs
								div.m-t-sm(ng-show="currentNode.type == 'Person'")
									img.img-circle(src="images/leonardo_dicaprio.jpeg")
								div.m-t-sm(ng-show="currentNode.type == 'Movie'")
									img(src="images/inception.jpg")
								div.h4.m-t.m-b-xs.font-bold.text-lt
									a(href="#", ng-show="currentNode.type == 'Person'", ng-click="open('lg')")
										| {{currentNode.firstname}} {{currentNode.lastname}}
									a(href="#", ng-show="currentNode.type == 'Movie'", ng-click="open('lg')")
										| {{currentNode.title}} ({{currentNode.released}})
								small.text-muted.m-b(ng-show="currentNode.type == 'Person'", ng-repeat="job in currentNode.jobs | limitTo: 3")
									| {{job.name | JobNameFormatter }}
									i.i.i-dot(ng-hide="$last")
								small.text-muted.m-b(ng-show="currentNode.type == 'Movie'", ng-repeat="genre in currentNode.genre")
									| {{genre}}
									i.i.i-dot(ng-hide="$last")
								div.row
									div.col-xs-12.m-t-sm
										i.fa.fa-star.m-l-xs.fa-lg
										i.fa.fa-star.m-l-xs.fa-lg
										i.fa.fa-star.m-l-xs.fa-lg
										i.fa.fa-star.m-l-xs.fa-lg
										i.fa.fa-star.m-l-xs.fa-lg
										i.fa.fa-star.m-l-xs.fa-lg
										i.fa.fa-star.m-l-xs.fa-lg
										i.fa.fa-star.m-l-xs.fa-lg
										i.fa.fa-star.m-l-xs.fa-lg
										i.fa.fa-star.m-l-xs.fa-lg
										i.fa.fa-star-o.m-l-xs.fa-lg
									div.col-xs-12.m-t-sm
											button.btn.btn-rounded.btn-sm.btn-icon.btn-default.btn-dark.dropdown-toggle(type='button')
												i.fa.fa-heart.fa-lg
											|  
											.btn-group(dropdown='', ng-controller="MyCinegraphCtrl")
												button.add-cinegraph-btn.btn.btn-rounded.btn-sm.btn-icon.btn-dark(type='button', ng-click="openAddToCinegraphModal()")
													i.fa.fa-plus.fa-lg
											|  
											button.btn.btn-rounded.btn-sm.btn-icon.btn-dark.btn-default(type='button', ng-show="currentNode.type == 'Movie'")
												i.fa.fa-eye.fa-lg
								div.row
									div.col-xs-12
										div.h5.font-bold.text-lt.m-t.m-b-xs(ng-show="currentNode.type == 'Person' && currentNode.biography")
											| Biography
										p.m-l-sm.m-r-sm(ng-show="currentNode.type == 'Person' && currentNode.biography")
											| {{currentNode.biography | limitTo: 300}}...
										div.h5.font-bold.text-lt.m-t.m-b-xs(ng-show="currentNode.type == 'Movie' && currentNode.plot")
											| Plot
										p.m-l-sm.m-r-sm(ng-show="currentNode.type == 'Movie' && currentNode.plot")
											| {{currentNode.plot | limitTo: 300}}...
											a.m-l-xs(href="#", ng-click="open('lg')")
												| Read more...
							nav.nav-primary.hidden-xs
								ul.nav.nav-main(data-ride='collapse')
									li
										a.auto(href='#')
											span.pull-right.text-muted
												i.i.i-circle-sm-o.text
												i.i.i-circle-sm.text-active
											i.i.i-plus2.icon
											span.font-bold Suggestions
					footer.footer.hidden-xs.no-padder.text-center-nav-xs
						a.btn.btn-icon.icon-muted.btn-inactive.m-l-xs.m-r-xs(href='#nav', data-toggle='class:nav-xs')
							i.i.i-circleleft.text
								i.i.i-circleright.text-active
			section#content.mycinegraph
				section.hbox.stretch
					section(ng-controller="MyCinegraphCtrl")
						section.vbox
							section.scrollable.padder
								header.row.m-b-md
									div.col-sm-12
										h2.text-black
											| Your cinegraphs
											a.btn.btn-sm.btn-info.btn-rounded.btn-icon.m-l-sm(ng-click="openCreateCinegraphModal()")
												i.fa.fa-plus
								div(ng-if="mycinegraphs.length == 0")
									p You have not created any cinegraph yet. Click on the button above to create one.
								div(ng-repeat= "n in mycinegraphs")
									section.row.m-md(ng-if="!(($index + 1) % 2)")
										section.col-sm-6
											a.btn.btn-default.btn-block(href="/cinegraph/{{n.id}}")
												h4.text-info
													| {{n.title}}
									section.col-sm-6(ng-if="(($index + 1) % 2)")
										a.btn.btn-default.btn-block(href="/cinegraph/{{n.id}}")
											h4.text-info
												| {{n.title}}
			aside#sidebar.aside-md.bg-black.hide
				section.vbox.animated.fadeInRight
					section.scrollable
						.panel.bg-black.filter-menu
							.panel-heading.b-b.b-dark
								i.fa.fa-filter.m-r-xs
								strong
									|Filter by job
							.panel-body
								form.form-horizontal
									.form-group
										label.control-label.col-sm-6 Producer
										.col-sm-6
											label.switch.producer
												input(type='checkbox')  
												span
									.form-group
										label.control-label.col-sm-6 Director
										.col-sm-6
											label.switch.director
												input(type='checkbox')  
												span
									.form-group
										label.control-label.col-sm-6 Writer
										.col-sm-6
											label.switch.writer
												input(type='checkbox')  
												span
									.form-group
										label.control-label.col-sm-6 Editor
										.col-sm-6
											label.switch.editor
												input(type='checkbox')  
												span
									.form-group
										label.control-label.col-sm-6 Director of photography
										.col-sm-6
											label.switch.dir-photography
												input(type='checkbox')  
												span
									.form-group
										label.control-label.col-sm-6 Music Composer
										.col-sm-6
											label.switch.music-composer
												input(type='checkbox')  
												span
									.form-group
										label.control-label.col-sm-6 Costume designer
										.col-sm-6
											label.switch.cos-designer
												input(type='checkbox')  
												span
									.form-group
										label.control-label.col-sm-6 Production designer
										.col-sm-6
											label.switch.prod-designer
												input(type='checkbox')  
												span
							.panel-heading.b-b.b-dark
								i.fa.fa-filter.m-r-xs
								strong
									|Filter by genre
							.panel-body
								.checkbox.i-checks
									label
										input(type='checkbox', checked='', value='Drama')
										i
										| Drama
								.checkbox.i-checks
									label
										input(type='checkbox', value='Comedy')
										i
										| Comedy
								.checkbox.i-checks
									label
										input(type='checkbox', value='Romance')
										i
										| Romance
								.checkbox.i-checks
									label
										input(type='checkbox', value='Fantasy')
										i
										| Fantasy
								.checkbox.i-checks
									label
										input(type='checkbox', value='Thriller')
										i
										| Thriller
								.checkbox.i-checks
									label
										input(type='checkbox', value='Sci-Fi')
										i
										| Sci-Fi
								.checkbox.i-checks
									label
										input(type='checkbox', checked='', value='Horror')
										i
										| Horror
								.checkbox.i-checks
									label
										input(type='checkbox', value='Documentary')
										i
										| Documentary
								.checkbox.i-checks
									label
										input(type='checkbox', value='Biography')
										i
										| Biography
								.checkbox.i-checks
									label
										input(type='checkbox', value='Adventure')
										i
										| Adventure
								.checkbox.i-checks
									label
										input(type='checkbox', value='Musical')
										i
										| Musical
								.checkbox.i-checks
									label
										input(type='checkbox', value='History')
										i
										| History
